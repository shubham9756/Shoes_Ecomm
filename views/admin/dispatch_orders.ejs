<%- include('navbar.ejs') %>

<div class="container mt-5">
  <h2 class="mb-4 text-center text-primary fw-bold">Dispatch Orders</h2>
  <div class="table-responsive">
    <table class="table table-bordered table-hover shadow-sm align-middle">
      <thead class="table-dark">
        <tr>
          <th scope="col">Order ID</th>
          <th scope="col">Customer Name</th>
          <th scope="col">Mobile</th>
          <th scope="col">Address</th>
          <th scope="col">Total Amount</th>
          <th scope="col">Payment</th>
          <th scope="col">Transaction ID</th>
          <th scope="col">Order Date</th>
          <th scope="col">Action</th>
        </tr>
      </thead>
      <tbody>
        <% if (result.length > 0) { %>
          <% result.forEach(order => { %>
            <tr>
              <td><%= order.order_id %></td>
              <td><%= order.fullname %></td>
              <td><%= order.mobile %></td>
              <td>
                <small>
                  <strong><%= order.address %></strong><br>
                  <%= order.area %>, <%= order.city %>, <%= order.state %> - <%= order.pincode %><br>
                  <%= order.country %>
                </small>
              </td>
              <td>â‚¹<%= order.total_amount %></td>
              <td><%= order.payment_method %> (<%= order.payment_status %>)</td>
              <td><%= order.transaction_id %></td>
              <td><%= new Date(order.order_date).toLocaleString() %></td>
              <td>
                <a href="/admin/order_details/<%= order.order_id %>" class="btn btn-outline-primary btn-sm mb-1">View</a>
               
              </td>
            </tr>
          <% }) %>
        <% } else { %>
          <tr>
            <td colspan="9" class="text-center text-muted">No pending orders available.</td>
          </tr>
        <% } %>
      </tbody>
    </table>
  </div>
</div>

<%- include('footer.ejs') %>
